!function(){function e(e){this.element=e,this.datesContainer=this.element.getElementsByClassName("cd-h-timeline__dates")[0],this.line=this.datesContainer.getElementsByClassName("cd-h-timeline__line")[0],this.fillingLine=this.datesContainer.getElementsByClassName("cd-h-timeline__filling-line")[0],this.date=this.line.getElementsByClassName("cd-h-timeline__date"),this.selectedDate=this.line.getElementsByClassName("cd-h-timeline__date--selected")[0],this.dateValues=function(e){for(var t=[],n=0;n<e.date.length;n++){var a,i=e.date[n].getAttribute("data-date").split("T"),i=(i=1<i.length?(a=i[0].split("/"),i[1].split(":")):0<=i[0].indexOf(":")?(a=["2000","0","0"],i[0].split(":")):(a=i[0].split("/"),["0","0"]),new Date(a[2],a[1]-1,a[0],i[0],i[1]));t.push(i)}return t}(this),this.minLapse=function(e){for(var t=[],n=1;n<e.dateValues.length;n++){var a=h(e.dateValues[n-1],e.dateValues[n]);0<a&&t.push(a)}return 0<t.length?Math.min.apply(null,t):864e5}(this),this.navigation=this.element.getElementsByClassName("cd-h-timeline__navigation"),this.contentWrapper=this.element.getElementsByClassName("cd-h-timeline__events")[0],this.content=this.contentWrapper.getElementsByClassName("cd-h-timeline__event"),this.eventsMinDistance=60,this.eventsMaxDistance=200,this.translate=0,this.lineLength=0,this.oldDateIndex=Util.getIndexInArray(this.date,this.selectedDate),this.newDateIndex=this.oldDateIndex;for(var t=this,n=0,a=0;a<t.dateValues.length;a++){var i=0==a?0:a-1,i=h(t.dateValues[i],t.dateValues[a]),i=(Math.round(i/t.minLapse)+2)*t.eventsMinDistance;i<t.eventsMinDistance?i=t.eventsMinDistance:i>t.eventsMaxDistance&&(i=t.eventsMaxDistance),n+=i,t.date[a].setAttribute("style","left:"+n+"px")}t.line.style.width=n+t.eventsMinDistance+"px",t.lineLength=n+t.eventsMinDistance,Util.addClass(t.element,"cd-h-timeline--loaded"),r(t,t.selectedDate),o(t,"next");var l=this;l.navigation[0].addEventListener("click",function(e){e.preventDefault(),d(l,"prev")}),l.navigation[1].addEventListener("click",function(e){e.preventDefault(),d(l,"next")}),new SwipeContent(l.datesContainer),l.datesContainer.addEventListener("swipeLeft",function(e){d(l,"next")}),l.datesContainer.addEventListener("swipeRight",function(e){d(l,"prev")});for(var s=0;s<l.date.length;s++)!function(n){l.date[n].addEventListener("click",function(e){e.preventDefault(),r(l,e.target)}),l.content[n].addEventListener("animationend",function(e){var t;n==l.newDateIndex&&l.newDateIndex!=l.oldDateIndex&&((t=l).contentWrapper.style.height=null,Util.removeClass(t.content[t.newDateIndex],"cd-h-timeline__event--enter-right cd-h-timeline__event--enter-left"),Util.removeClass(t.content[t.oldDateIndex],"cd-h-timeline__event--leave-right cd-h-timeline__event--leave-left"))})}(s)}function d(e,t){var n=e.datesContainer.offsetWidth;t&&(e.translate="next"==t?e.translate-n+e.eventsMinDistance:e.translate+n-e.eventsMinDistance),0-e.translate>e.lineLength-n&&(e.translate=n-e.lineLength),0<e.translate&&(e.translate=0),e.line.style.transform="translateX("+e.translate+"px)",0==e.translate?Util.addClass(e.navigation[0],"cd-h-timeline__navigation--inactive"):Util.removeClass(e.navigation[0],"cd-h-timeline__navigation--inactive"),e.translate==n-e.lineLength?Util.addClass(e.navigation[1],"cd-h-timeline__navigation--inactive"):Util.removeClass(e.navigation[1],"cd-h-timeline__navigation--inactive")}function r(e,t){e.newDateIndex=Util.getIndexInArray(e.date,t),e.oldDateIndex=Util.getIndexInArray(e.date,e.selectedDate),Util.removeClass(e.selectedDate,"cd-h-timeline__date--selected"),Util.addClass(e.date[e.newDateIndex],"cd-h-timeline__date--selected"),e.selectedDate=e.date[e.newDateIndex];for(var n=e,a=0;a<n.date.length;a++)a<n.newDateIndex?Util.addClass(n.date[a],"cd-h-timeline__date--older-event"):Util.removeClass(n.date[a],"cd-h-timeline__date--older-event");var i,l,t=e;l=t.newDateIndex>t.oldDateIndex?(i="cd-h-timeline__event--selected cd-h-timeline__event--enter-right","cd-h-timeline__event--leave-left"):t.newDateIndex<t.oldDateIndex?(i="cd-h-timeline__event--selected cd-h-timeline__event--enter-left","cd-h-timeline__event--leave-right"):(i="cd-h-timeline__event--selected",""),Util.addClass(t.content[t.newDateIndex],i),t.newDateIndex!=t.oldDateIndex&&(Util.removeClass(t.content[t.oldDateIndex],"cd-h-timeline__event--selected"),Util.addClass(t.content[t.oldDateIndex],l),t.contentWrapper.style.height=t.content[t.newDateIndex].offsetHeight+"px"),i=e,t=(l=window.getComputedStyle(i.selectedDate,null)).getPropertyValue("left"),l=l.getPropertyValue("width"),t=Number(t.replace("px",""))+Number(l.replace("px",""))/2,i.fillingLine.style.transform="scaleX("+t/i.lineLength+")"}function o(e,t){var n=window.getComputedStyle(e.selectedDate,null),n=Number(n.getPropertyValue("left").replace("px","")),a=e.datesContainer.offsetWidth;("next"==t&&n>=a-e.translate||"prev"==t&&n<=-e.translate)&&(e.translate=a/2-n,d(e,!1))}function h(e,t){return Math.round(t-e)}window.HorizontalTimeline=e;var l=document.getElementsByClassName("js-cd-h-timeline"),s=[];if(0<l.length){for(var t=0;t<l.length;t++)s.push(new e(l[t]));document.addEventListener("keydown",function(e){e.keyCode&&39==e.keyCode||e.key&&"arrowright"==e.key.toLowerCase()?n("next"):(e.keyCode&&37==e.keyCode||e.key&&"arrowleft"==e.key.toLowerCase())&&n("prev")})}function n(e){for(var t,n,a,i=0;i<s.length;i++)!function(e){var t=e.offsetTop,n=e.offsetLeft,a=e.offsetWidth,i=e.offsetHeight;for(;e.offsetParent;)e=e.offsetParent,t+=e.offsetTop,n+=e.offsetLeft;return t<window.pageYOffset+window.innerHeight&&n<window.pageXOffset+window.innerWidth&&t+i>window.pageYOffset&&n+a>window.pageXOffset}(l[i])||(t=s[i],a=void 0,(a="next"==(n=e)?t.newDateIndex+1:t.newDateIndex-1)<0)||a>=t.date.length||(r(t,t.date[a]),o(t,n))}}();